1. Facorizing the 4S-SFOF code
2. Packing it
3. adding support for onyx, and pytorch.